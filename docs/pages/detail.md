# ç”µå½±/ç”µè§†å‰§è¯¦æƒ…é¡µè®¾è®¡æ–‡æ¡£

## ğŸ“‹ **æ¦‚è¿°**

åŸºäº [TMDB F1ç”µå½±è¯¦æƒ…é¡µ](https://www.themoviedb.org/movie/911430-f1-the-movie) çš„è®¾è®¡ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªé€šç”¨çš„ç”µå½±å’Œç”µè§†å‰§è¯¦æƒ…é¡µç³»ç»Ÿã€‚

ç”µå½±/ç”µè§†å‰§è¯¦æƒ…é¡µæ˜¯åº”ç”¨çš„æ ¸å¿ƒé¡µé¢ä¹‹ä¸€ï¼Œæä¾›å®Œæ•´çš„å†…å®¹ä¿¡æ¯å±•ç¤ºã€‚é‡‡ç”¨åŠ¨æ€è·¯ç”±è®¾è®¡ï¼Œæ”¯æŒç”µå½±å’Œç”µè§†å‰§ä¸¤ç§ç±»å‹ï¼ŒåŒ…å«ä¸»è¯¦æƒ…é¡µã€æ¼”èŒå‘˜é¡µå’Œå›¾ç‰‡é›†é¡µä¸‰ä¸ªå­é¡µé¢ã€‚

**é¡µé¢è·¯å¾„**:

- ä¸»è¯¦æƒ…é¡µ: `/movie/[id]`ã€`/tv/[id]`
- æ¼”èŒå‘˜é¡µ: `/movie/[id]/credits`ã€`/tv/[id]/credits`
- å›¾ç‰‡é›†é¡µ: `/movie/[id]/gallery`ã€`/tv/[id]/gallery`

**æ–‡ä»¶ä½ç½®**: `pages/[type]/[id]/`

## ğŸ¨ **é¡µé¢ç»“æ„**

### **1. ä¸»è¯¦æƒ…é¡µ (`index.vue`)**

#### **Hero åŒºåŸŸ**

- **èƒŒæ™¯å›¾ç‰‡**: ä½¿ç”¨ç”µå½±/ç”µè§†å‰§çš„èƒŒæ™¯å›¾ç‰‡ï¼Œå¸¦æ¸å˜é®ç½©
- **æµ·æŠ¥å±•ç¤º**: å·¦ä¾§æ˜¾ç¤ºé«˜æ¸…æµ·æŠ¥
- **åŸºæœ¬ä¿¡æ¯**: æ ‡é¢˜ã€å¹´ä»½ã€æ—¶é•¿/å­£æ•°ã€è¯„åˆ†
- **åˆ†ç±»æ ‡ç­¾**: å¹´é¾„åˆ†çº§ã€æ—¶é•¿ã€ç±»å‹æ ‡ç­¾
- **æ“ä½œæŒ‰é’®**: è§‚çœ‹é¢„å‘Šç‰‡ã€æ”¶è—

#### **ä¸»è¦å†…å®¹åŒºåŸŸ (å·¦ä¾§)**

- **ç®€ä»‹**: ç”µå½±/ç”µè§†å‰§çš„è¯¦ç»†æè¿°
- **æ¼”èŒå‘˜**: ä¸»è¦æ¼”å‘˜å’Œè§’è‰²ä¿¡æ¯ (å‰8ä¸ª)
- **åª’ä½“**: å‰§ç…§ã€æµ·æŠ¥ã€è§†é¢‘çš„æ ‡ç­¾é¡µå±•ç¤º
- **ç›¸ä¼¼å†…å®¹**: æ¨èç›¸å…³ç”µå½±/ç”µè§†å‰§ (å‰6ä¸ª)

#### **å³ä¾§è¾¹æ **

- **è¯¦ç»†ä¿¡æ¯**: çŠ¶æ€ã€è¯­è¨€ã€åˆ¶ä½œå…¬å¸ç­‰
- **è¯„åˆ†å±•ç¤º**: æ˜Ÿçº§è¯„åˆ†å’Œè¯„åˆ†äººæ•°
- **ç”µå½±ç‰¹æœ‰**: é¢„ç®—ã€ç¥¨æˆ¿ã€å…³é”®è¯
- **ç”µè§†å‰§ç‰¹æœ‰**: å­£æ•°ã€é›†æ•°ã€æ’­å‡ºæ—¥æœŸã€å­£æ•°è¯¦æƒ…

### **2. æ¼”èŒå‘˜é¡µ (`credits.vue`)**

#### **é¡µé¢å¸ƒå±€**

- **é¡µé¢æ ‡é¢˜**: ä½¿ç”¨ `MediaPageHeader` ç»„ä»¶
- **å·¦ä¾§åŒºåŸŸ**: å®Œæ•´æ¼”å‘˜åˆ—è¡¨ (3åˆ—å¸ƒå±€)
- **å³ä¾§åŒºåŸŸ**: æŒ‰éƒ¨é—¨åˆ†ç»„çš„å‰§ç»„æˆå‘˜ (1åˆ—å¸ƒå±€)

#### **æ¼”å‘˜åˆ—è¡¨**

- **å¤´åƒå±•ç¤º**: æ¼”å‘˜å¤´åƒå’ŒåŸºæœ¬ä¿¡æ¯
- **è§’è‰²ä¿¡æ¯**: é¥°æ¼”è§’è‰²å’Œéƒ¨é—¨
- **äº¤äº’åŠŸèƒ½**: ç‚¹å‡»è·³è½¬åˆ°æ¼”å‘˜è¯¦æƒ…é¡µ

#### **å‰§ç»„æˆå‘˜**

- **éƒ¨é—¨åˆ†ç»„**: åˆ¶ä½œã€å¯¼æ¼”ã€ç¼–å‰§ã€éŸ³æ•ˆç­‰
- **èŒä½ä¿¡æ¯**: å…·ä½“èŒä½å’Œå·¥ä½œå†…å®¹
- **ä¸­æ–‡ç¿»è¯‘**: éƒ¨é—¨åç§°æœ¬åœ°åŒ–æ˜¾ç¤º

### **3. å›¾ç‰‡é›†é¡µ (`gallery.vue`)**

#### **é¡µé¢å¸ƒå±€**

- **é¡µé¢æ ‡é¢˜**: ä½¿ç”¨ `MediaPageHeader` ç»„ä»¶
- **åˆ†ç±»æ ‡ç­¾**: æµ·æŠ¥ã€å‰§ç…§åˆ†ç±»åˆ‡æ¢
- **ç€‘å¸ƒæµå±•ç¤º**: å“åº”å¼å›¾ç‰‡ç½‘æ ¼
- **æ— é™æ»šåŠ¨**: è‡ªåŠ¨åŠ è½½æ›´å¤šå›¾ç‰‡

#### **PhotoSwipe é›†æˆ**

- **ç¯ç®±åŠŸèƒ½**: ç‚¹å‡»å›¾ç‰‡å…¨å±æŸ¥çœ‹
- **æ‰‹åŠ¿æ”¯æŒ**: æ»‘åŠ¨åˆ‡æ¢ã€ç¼©æ”¾ç­‰
- **é”®ç›˜å¯¼èˆª**: æ”¯æŒé”®ç›˜æ“ä½œ

## ğŸ”§ **æŠ€æœ¯å®ç°**

### **åŠ¨æ€è·¯ç”±è®¾è®¡**

```javascript
// è·¯ç”±å‚æ•°
const route = useRoute()
const mediaType = route.params.type // 'movie' æˆ– 'tv'
const mediaId = parseInt(route.params.id)

// è®¡ç®—å±æ€§
const isTv = computed(() => mediaType === 'tv')
const mediaTypeText = computed(() => (isTv.value ? 'ç”µè§†å‰§' : 'ç”µå½±'))
```

### **API æ•°æ®è·å–**

**ç»Ÿä¸€æ¥å£**: ä½¿ç”¨ `/api/detail.ts` ä¸­çš„é€šç”¨APIæ¥å£

```javascript
// ä¸»è¦æ•°æ®æº
const detail = getDetail(mediaType, mediaId) // åŸºæœ¬ä¿¡æ¯
const credits = getCredits(mediaType, mediaId) // æ¼”èŒå‘˜ä¿¡æ¯
const videos = getVideos(mediaType, mediaId) // è§†é¢‘ä¿¡æ¯
const similar = getSimilar(mediaType, mediaId) // ç›¸ä¼¼å†…å®¹
const images = getImages(mediaType, mediaId) // å›¾ç‰‡ä¿¡æ¯
```

### **ç»„ä»¶ä½¿ç”¨**

```vue
<!-- é¡µé¢æ ‡é¢˜ç»„ä»¶ -->
<MediaPageHeader
  :backdrop_path="detail.data.value?.backdrop_path"
  :title="`${detail.data.value?.title || detail.data.value?.name} çš„æ¼”èŒå‘˜`"
  :back-to="`/${mediaType}/${mediaId}`"
/>

<!-- éª¨æ¶å±ç»„ä»¶ -->
<SkeletonLoadingState
  v-if="detail.pending.value"
  :message="`åŠ è½½${mediaTypeText}è¯¦æƒ…ä¸­...`"
/>

<!-- åª’ä½“å¡ç‰‡ç»„ä»¶ -->
<MediaCard
  v-for="item in similar.data.value.results.slice(0, 6)"
  :key="item.id"
  :item="item"
  :is-movie="!isTv"
/>
```

### **åª’ä½“æ ‡ç­¾é¡µç³»ç»Ÿ**

```javascript
// åª’ä½“æ ‡ç­¾é¡µé…ç½®
const mediaTabs = [
  { id: 'backdrops', name: 'å‰§ç…§' },
  { id: 'posters', name: 'æµ·æŠ¥' },
  { id: 'videos', name: 'è§†é¢‘' },
]

// æ ‡ç­¾é¡µåˆ‡æ¢
const activeMediaTab = ref('backdrops')

// è·å–åª’ä½“æ•°é‡
const getMediaCount = type => {
  switch (type) {
    case 'backdrops':
      return images.data.value?.backdrops?.length || 0
    case 'posters':
      return images.data.value?.posters?.length || 0
    case 'videos':
      return videos.data.value?.results?.length || 0
    default:
      return 0
  }
}
```

## ğŸ¯ **åŠŸèƒ½ç‰¹æ€§**

### **1. å“åº”å¼è®¾è®¡**

- **æ¡Œé¢ç«¯**: 3åˆ—å¸ƒå±€ï¼Œå®Œæ•´ä¿¡æ¯å±•ç¤º
- **å¹³æ¿ç«¯**: 2åˆ—å¸ƒå±€ï¼Œä¼˜åŒ–ç©ºé—´åˆ©ç”¨
- **ç§»åŠ¨ç«¯**: å•åˆ—å¸ƒå±€ï¼Œå‚ç›´å †å 

### **2. åŠ è½½çŠ¶æ€ç®¡ç†**

- **éª¨æ¶å±**: æ•°æ®åŠ è½½æ—¶æ˜¾ç¤ºéª¨æ¶å±
- **é”™è¯¯å¤„ç†**: ä¼˜é›…çš„é”™è¯¯çŠ¶æ€å±•ç¤º
- **åˆ·æ–°åŠŸèƒ½**: æ”¯æŒé‡æ–°åŠ è½½æ•°æ®

### **3. å›¾ç‰‡ä¼˜åŒ–**

- **æ‡’åŠ è½½**: ä½¿ç”¨ `loading="lazy"`
- **å“åº”å¼å›¾ç‰‡**: ä¸åŒå±å¹•å°ºå¯¸åŠ è½½ä¸åŒå°ºå¯¸
- **å ä½ç¬¦**: å›¾ç‰‡åŠ è½½å¤±è´¥æ—¶æ˜¾ç¤ºå ä½ç¬¦

### **4. äº¤äº’ä½“éªŒ**

- **æ‚¬åœæ•ˆæœ**: å¡ç‰‡å’ŒæŒ‰é’®çš„æ‚¬åœåŠ¨ç”»
- **å¹³æ»‘è¿‡æ¸¡**: CSS transition åŠ¨ç”»
- **é”®ç›˜æ”¯æŒ**: æ”¯æŒé”®ç›˜å¯¼èˆª

## ğŸ“± **å“åº”å¼é€‚é…**

### **ç§»åŠ¨ç«¯ (< 640px)**

- Hero é«˜åº¦: è‡ªé€‚åº”
- å¸ƒå±€: å•åˆ—å‚ç›´å †å 
- å›¾ç‰‡ç½‘æ ¼: 2åˆ—
- æ–‡æœ¬å¤§å°: è¾ƒå°å°ºå¯¸

### **å¹³æ¿ç«¯ (640px - 1024px)**

- å¸ƒå±€: 2åˆ—å¸ƒå±€
- å›¾ç‰‡ç½‘æ ¼: 3åˆ—
- æ–‡æœ¬å¤§å°: ä¸­ç­‰å°ºå¯¸

### **æ¡Œé¢ç«¯ (â‰¥ 1024px)**

- å¸ƒå±€: 3åˆ—å¸ƒå±€ (2:1)
- å›¾ç‰‡ç½‘æ ¼: 4åˆ—
- æ–‡æœ¬å¤§å°: å¤§å°ºå¯¸
- å®Œæ•´åŠŸèƒ½: æ‰€æœ‰äº¤äº’åŠŸèƒ½

## ğŸ¨ **è®¾è®¡è§„èŒƒ**

### å‚è€ƒTMDBè®¾è®¡

- å¤§èƒŒæ™¯å›¾ç‰‡ + æ¸å˜é®ç½©
- æµ·æŠ¥ + ä¿¡æ¯å¸ƒå±€
- è¯„åˆ†æ˜Ÿçº§å±•ç¤º
- åˆ†ç±»æ ‡ç­¾è®¾è®¡

### **é¢œè‰²æ–¹æ¡ˆ**

- **ä¸»è‰²è°ƒ**: çº¢è‰² (#DC2626)
- **èƒŒæ™¯è‰²**: æµ…ç°è‰² (#F9FAFB)
- **æ–‡å­—è‰²**: æ·±ç°è‰² (#1F2937)
- **å¼ºè°ƒè‰²**: é»„è‰² (#F59E0B)

### **é—´è·è§„èŒƒ**

- **é¡µé¢è¾¹è·**: 24px (ç§»åŠ¨ç«¯) / 32px (æ¡Œé¢ç«¯)
- **åŒºåŸŸé—´è·**: 32px (py-8)
- **å¡ç‰‡é—´è·**: 16px (gap-4)
- **æŒ‰é’®é—´è·**: 12px (gap-3)

### **å­—ä½“è§„èŒƒ**

- **ä¸»æ ‡é¢˜**: 24px / 32px (ç§»åŠ¨ç«¯/æ¡Œé¢ç«¯)
- **Hero æ ‡é¢˜**: 36px / 60px
- **å‰¯æ ‡é¢˜**: 18px / 20px
- **æ­£æ–‡**: 14px / 16px

## ğŸ”„ **æ€§èƒ½ä¼˜åŒ–**

### **1. æ•°æ®ä¼˜åŒ–**

- **å¹¶è¡Œè¯·æ±‚**: å¤šä¸ª API åŒæ—¶è¯·æ±‚
- **ç¼“å­˜ç­–ç•¥**: åˆ©ç”¨ Nuxt çš„ç¼“å­˜æœºåˆ¶
- **æŒ‰éœ€åŠ è½½**: åªåŠ è½½å¿…è¦çš„æ•°æ®

### **2. å›¾ç‰‡ä¼˜åŒ–**

- **æ‡’åŠ è½½**: ä½¿ç”¨ `loading="lazy"`
- **å“åº”å¼å›¾ç‰‡**: ä¸åŒå±å¹•å°ºå¯¸åŠ è½½ä¸åŒå°ºå¯¸
- **å ä½ç¬¦**: å›¾ç‰‡åŠ è½½å¤±è´¥æ—¶æ˜¾ç¤ºå ä½ç¬¦

### **3. äº¤äº’ä¼˜åŒ–**

- **é˜²æŠ–å¤„ç†**: é¿å…é¢‘ç¹çš„çŠ¶æ€æ›´æ–°
- **å¹³æ»‘åŠ¨ç”»**: ä½¿ç”¨ CSS transition
- **é”®ç›˜æ”¯æŒ**: æ”¯æŒé”®ç›˜å¯¼èˆª

## ğŸ“ **SEO é…ç½®**

```javascript
// åŠ¨æ€ SEO é…ç½®
useHead(() => ({
  title: detail.data.value
    ? `${detail.data.value.title || detail.data.value.name} - Nuxt Movie`
    : `${mediaTypeText.value}è¯¦æƒ… - Nuxt Movie`,
  meta: [
    {
      name: 'description',
      content:
        detail.data.value?.overview || `å‘ç°ç²¾å½©${mediaTypeText.value}è¯¦æƒ…`,
    },
  ],
}))
```

## ğŸš€ **æ‰©å±•åŠŸèƒ½**

### **PhotoSwipe ç¯ç®±**

```javascript
// å›¾ç‰‡é›†é¡µé¢çš„ç¯ç®±åŠŸèƒ½
import PhotoSwipeLightbox from 'photoswipe/lightbox'

// åˆå§‹åŒ–ç¯ç®±
const initPhotoSwipe = () => {
  lightbox = new PhotoSwipeLightbox({
    gallery: '.pswp-gallery',
    children: 'a',
    pswpModule: () => import('photoswipe'),
  })
  lightbox.init()
}
```

### **æ— é™æ»šåŠ¨**

```javascript
// å›¾ç‰‡é›†é¡µé¢çš„æ— é™æ»šåŠ¨
const {
  currentPage,
  isLoading,
  hasMore,
  observerTarget,
  loadMore,
  reset,
  setHasMore,
} = useInfiniteScroll(
  async page => {
    // åŠ è½½æ›´å¤šå›¾ç‰‡é€»è¾‘
  },
  computed(() => images.data.value?.[activeTab.value]?.length || 0),
  {
    pageSize: 20,
    rootMargin: '100px',
    threshold: [0, 0.1, 0.3, 0.5, 1.0],
  }
)
```

## ğŸ“‹ **ç»´æŠ¤è¯´æ˜**

### **æ•°æ®æ›´æ–°**

- å®šæœŸæ£€æŸ¥ API æ•°æ®è´¨é‡
- ç›‘æ§å›¾ç‰‡åŠ è½½æ€§èƒ½
- ç¡®ä¿æ¼”èŒå‘˜ä¿¡æ¯çš„å‡†ç¡®æ€§

### **æ€§èƒ½ç›‘æ§**

- ç›‘æ§é¡µé¢åŠ è½½é€Ÿåº¦
- æ£€æŸ¥å›¾ç‰‡åŠ è½½æ€§èƒ½
- ä¼˜åŒ– API è¯·æ±‚æ•ˆç‡

### **ç”¨æˆ·ä½“éªŒ**

- æ”¶é›†ç”¨æˆ·åé¦ˆ
- ä¼˜åŒ–äº¤äº’æµç¨‹
- æå‡é¡µé¢å¯ç”¨æ€§

### **ä»£ç ç»´æŠ¤**

- ä¿æŒç»„ä»¶å¤ç”¨æ€§
- ç»Ÿä¸€é”™è¯¯å¤„ç†
- ä¼˜åŒ–ä»£ç ç»“æ„
