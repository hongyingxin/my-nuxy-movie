# 电影/电视剧详情页功能说明

## 概述

基于 [TMDB F1电影详情页](https://www.themoviedb.org/movie/911430-f1-the-movie) 的设计，我们创建了一个通用的电影和电视剧详情页系统。

## 功能特性

### 🎬 通用详情页
- **统一接口**: 使用 `/api/detail.ts` 中的通用API接口
- **动态路由**: 支持 `/movie/[id]` 和 `/tv/[id]` 两种路由
- **响应式设计**: 适配桌面端和移动端
- **SEO优化**: 动态标题和描述

### 📱 页面布局

#### Hero 区域
- 背景图片（带渐变遮罩）
- 海报展示
- 基本信息（标题、年份、评分）
- 分类标签
- 操作按钮（观看预告片、收藏）

#### 主要内容区域
- **简介**: 电影/电视剧描述
- **演职员**: 主要演员和角色
- **视频**: YouTube 预告片和花絮
- **相似内容**: 推荐相关电影/电视剧

#### 右侧边栏
- **详细信息**: 状态、语言、制作公司等
- **评分**: 星级评分展示
- **电影特有**: 预算、票房、关键词
- **电视剧特有**: 季数、集数、播出日期

### 🔧 技术实现

#### 通用API接口 (`/api/detail.ts`)
```javascript
// 支持电影和电视剧的通用接口
export const getDetail = (mediaType: 'movie' | 'tv', id: number)
export const getCredits = (mediaType: 'movie' | 'tv', id: number)
export const getVideos = (mediaType: 'movie' | 'tv', id: number)
export const getSimilar = (mediaType: 'movie' | 'tv', id: number)
```

#### 动态路由 (`/pages/[type]/[id].vue`)
- 根据 `type` 参数判断是电影还是电视剧
- 自动调用对应的API接口
- 根据内容类型显示不同的信息

#### 图片处理
- 使用 `utils/image.js` 中的工具函数
- 支持不同尺寸的图片加载
- 响应式图片优化

### 🎨 设计特色

#### 参考TMDB设计
- 大背景图片 + 渐变遮罩
- 海报 + 信息布局
- 评分星级展示
- 分类标签设计

#### 交互体验
- 悬停效果
- 加载状态
- 错误处理
- 刷新功能

### 📊 数据展示

#### 电影特有信息
- 时长 (runtime)
- 预算 (budget)
- 票房 (revenue)
- 发行日期 (release_date)
- 关键词 (keywords)

#### 电视剧特有信息
- 季数 (number_of_seasons)
- 集数 (number_of_episodes)
- 首播日期 (first_air_date)
- 最后播出日期 (last_air_date)
- 季数详情 (seasons)

### 🔗 导航集成

#### 首页卡片
- 点击电影/电视剧卡片跳转到详情页
- 悬停显示播放图标
- 标题悬停变色效果

#### 路由结构
```
/movie/123    # 电影详情页
/tv/456       # 电视剧详情页
```

### 🚀 性能优化

- **懒加载**: 图片和组件懒加载
- **骨架屏**: 加载状态展示
- **错误边界**: 优雅的错误处理
- **缓存**: API响应缓存

### 📱 响应式设计

- **桌面端**: 3列布局，完整信息展示
- **平板端**: 2列布局，优化空间利用
- **移动端**: 单列布局，垂直堆叠

## 使用示例

### 访问电影详情
```
http://localhost:3000/movie/911430
```

### 访问电视剧详情
```
http://localhost:3000/tv/1399
```

## 扩展功能

### 未来可添加的功能
- 用户评分系统
- 评论功能
- 收藏列表
- 观看历史
- 分享功能
- 多语言支持

### 技术改进
- TypeScript 类型定义
- 单元测试
- E2E 测试
- 性能监控
- 错误追踪

## 总结

通过创建通用的详情页系统，我们实现了：

1. **代码复用**: 电影和电视剧使用同一套组件和API
2. **维护性**: 统一的代码结构便于维护
3. **扩展性**: 易于添加新的内容类型
4. **用户体验**: 一致的设计和交互体验
5. **性能优化**: 响应式设计和懒加载

这个系统为电影网站提供了完整的详情页解决方案，参考了TMDB的优秀设计，同时保持了代码的简洁和可维护性。 